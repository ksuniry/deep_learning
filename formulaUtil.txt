package com.util;

import java.util.HashMap;
import java.util.Map;
import java.util.logging.Logger;

public class FormulaUtil {
	
	private static Logger logger = Logger.getLogger(FormulaUtil.class.getName());
	
	public static  Map<String,Object> winNumToMakeStair(Map<String,Object> stairMap,Map<String,Object> winMap,int limit_idx) throws Exception {
		
		Map<String,Object> rtnInfo = new HashMap<String,Object>();
	 	
	 	
	 	int stairArrNum = 0;
	 	int winNum = 0;
	 	Integer winBonus = 0;
	 	boolean loop = true;
	 	int newIdx = limit_idx+1;
	 	
	 	
	 	winBonus = Integer.parseInt(String.valueOf(winMap.get("bonus")));
	 	if(limit_idx == 7) {
	 		if(winBonus != null) {
	 			winMap.put("num7", winBonus);
	 		}
	 	}
	 	
		for(int i = 1 ; i <= limit_idx ; i++) {
			rtnInfo.put("num"+i,Integer.parseInt(String.valueOf(winMap.get("num"+i))));
 		}
	 	
	 	for(int i = 1 ; i < 46  ;i++) {
	 		stairArrNum = Integer.parseInt(String.valueOf(stairMap.get("num"+i)));
	 		for(int j = 1 ; j <= limit_idx ; j++) {
	 			winNum = Integer.parseInt(String.valueOf(winMap.get("num"+j)));
	 			if(winNum == stairArrNum) {
	 				loop = false;
	 				break;
	 			}
	 		}
	 		
	 		if(loop) {
	 			rtnInfo.put("num"+newIdx,stairArrNum);
	 			newIdx++;
	 		}
	 		loop = true;
	 	}
	 	
        return rtnInfo;
	}
	
	public static String vrstairCdBagic(String vrstair_bagic_cd) throws Exception {
		return vrstair_bagic_cd.toLowerCase().replace("tbl_win_","").replace("tbl_order_win_","0");
	}
	
}
